# Slide Puzzle Master - Base Mini App

ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ‘ã‚ºãƒ«ã‚’è§£ã„ã¦ã€ã‚¯ãƒªã‚¢ã‚¿ã‚¤ãƒ ã‚’NFTã¨ã—ã¦ãƒŸãƒ³ãƒˆã€‚ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰ã§ç«¶ã„åˆãŠã†ï¼

## æ©Ÿèƒ½

- ğŸ§© 3ã¤ã®é›£æ˜“åº¦ï¼ˆEasy 3Ã—3, Normal 4Ã—4, Hard 5Ã—5ï¼‰
- ğŸ® 2ã¤ã®ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰ï¼ˆNumber / Imageï¼‰
- â±ï¸ ãƒŸãƒªç§’å˜ä½ã®ã‚¿ã‚¤ãƒ è¨ˆæ¸¬
- ğŸ“Š ç§»å‹•å›æ•°ã®ã‚«ã‚¦ãƒ³ãƒˆ
- ğŸ¨ ã‚¯ãƒªã‚¢æ™‚ã«ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³NFTã‚’ãƒŸãƒ³ãƒˆ
- ğŸ† é›£æ˜“åº¦åˆ¥ãƒ»ãƒ¢ãƒ¼ãƒ‰åˆ¥ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰ï¼ˆãƒˆãƒƒãƒ—10ï¼‰
- ğŸ“¢ Farcasterã§ã‚·ã‚§ã‚¢
- ğŸ“– åˆå›èµ·å‹•æ™‚ã®æ“ä½œãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
- ğŸ‘† ã‚¹ãƒ¯ã‚¤ãƒ—/ãƒ‰ãƒ©ãƒƒã‚°ã§è¤‡æ•°ã‚¿ã‚¤ãƒ«ã‚’åŒæ™‚ã‚¹ãƒ©ã‚¤ãƒ‰
- â–¶ï¸ è¨˜æ†¶ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆStartãƒœã‚¿ãƒ³ã§é–‹å§‹ï¼‰
- ğŸ³ï¸ Give Upãƒœã‚¿ãƒ³ã§ãƒªã‚¿ã‚¤ã‚¢å¯èƒ½
- ğŸ”„ è‡ªå‹•ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶šï¼ˆFarcasterå†…ï¼‰

## ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰

### Number Modeï¼ˆæ•°å­—ãƒ¢ãƒ¼ãƒ‰ï¼‰
- ä¼çµ±çš„ãªã‚¹ãƒ©ã‚¤ãƒ‰ãƒ‘ã‚ºãƒ«
- ã‚¿ã‚¤ãƒ«ã«æ•°å­—ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- é–‹å§‹å¾Œã¯ã€Œ?ã€ãƒãƒ¼ã‚¯ã§éš ã•ã‚Œã‚‹

### Image Modeï¼ˆç”»åƒãƒ¢ãƒ¼ãƒ‰ï¼‰
- IPFSä¸Šã®ç”»åƒã‚’ä½¿ã£ãŸãƒ‘ã‚ºãƒ«
- ç¾åœ¨ã¯ã€ŒCute Catsã€ç”»åƒã‚’ä½¿ç”¨
- å°†æ¥çš„ã«è¿½åŠ ç”»åƒã®å®Ÿè£…äºˆå®š

å„ãƒ¢ãƒ¼ãƒ‰ã¯ç‹¬ç«‹ã—ãŸãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æŒã¡ã€NFTã«ã‚‚ãƒ¢ãƒ¼ãƒ‰æƒ…å ±ãŒè¨˜éŒ²ã•ã‚Œã¾ã™ã€‚

## NFTã®ç‰¹å¾´

### è¨˜éŒ²ã•ã‚Œã‚‹æƒ…å ±
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹
- é›£æ˜“åº¦ï¼ˆEasy / Normal / Hardï¼‰
- ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰ï¼ˆNumber / Imageï¼‰
- ã‚¯ãƒªã‚¢ã‚¿ã‚¤ãƒ ï¼ˆãƒŸãƒªç§’ç²¾åº¦ã€MM:SS.CCå½¢å¼ã§è¡¨ç¤ºï¼‰
- ç§»å‹•å›æ•°
- IPFSç”»åƒãƒãƒƒã‚·ãƒ¥ï¼ˆImageãƒ¢ãƒ¼ãƒ‰ã®ã¿ï¼‰
- ãƒŸãƒ³ãƒˆæ—¥æ™‚

### ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³SVGç”»åƒ
- é›£æ˜“åº¦åˆ¥ã®èƒŒæ™¯è‰²ï¼ˆEasy: ç·‘ã€Normal: é’ã€Hard: èµ¤ï¼‰
- Number Mode: ãƒ‘ã‚ºãƒ«ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤ºï¼ˆRubikãƒ•ã‚©ãƒ³ãƒˆä½¿ç”¨ï¼‰
- Image Mode: IPFSç”»åƒè¡¨ç¤ºï¼ˆhttps://ipfs.io/ipfs/ çµŒç”±ï¼‰
- ã‚¯ãƒªã‚¢ã‚¿ã‚¤ãƒ ã€ç§»å‹•å›æ•°ã€ãƒ¢ãƒ¼ãƒ‰æƒ…å ±ã‚’å«ã‚€

## æ“ä½œæ–¹æ³•

1. **ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰é¸æŠ**: ç”»é¢ä¸Šéƒ¨ã®ãƒˆã‚°ãƒ«ã§Number/Imageã‚’é¸æŠ
2. **é›£æ˜“åº¦é¸æŠ**: Easy/Normal/Hardã‹ã‚‰é¸æŠ
3. **è¨˜æ†¶**: ãƒ‘ã‚ºãƒ«ã®é…ç½®ã‚’ç¢ºèªï¼ˆæ•°å­—ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹çŠ¶æ…‹ï¼‰
4. **é–‹å§‹**: â–¶ Startãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨æ•°å­—ãŒã€Œ?ã€ã«éš ã•ã‚Œã€ã‚¿ã‚¤ãƒãƒ¼ã‚¹ã‚¿ãƒ¼ãƒˆ
5. **æ“ä½œ**: ã‚¿ã‚¤ãƒ«ã‚’ã‚¹ãƒ¯ã‚¤ãƒ—/ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ç§»å‹•
   - è¤‡æ•°ã®ã‚¿ã‚¤ãƒ«ã‚’ä¸€åº¦ã«ã‚¹ãƒ©ã‚¤ãƒ‰å¯èƒ½
   - ç©ºããƒã‚¹ã«å‘ã‹ã£ã¦ã‚¹ãƒ¯ã‚¤ãƒ—ã™ã‚‹ã“ã¨ã§ã€ãã®åˆ—/è¡Œå…¨ä½“ãŒç§»å‹•
6. **å®Œæˆ**: 1ã‹ã‚‰é †ç•ªã«ä¸¦ã¹ã‚‹ã¨ã‚¯ãƒªã‚¢
7. **ãƒŸãƒ³ãƒˆ**: NFTã¨ã—ã¦è¨˜éŒ²ã‚’ä¿å­˜ã—ã€ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰ã«ç™»éŒ²

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

```bash
cp .env.example .env.local
```

`.env.local` ã‚’ç·¨é›†:

```env
# testnetï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰ã¾ãŸã¯ mainnetï¼ˆæœ¬ç•ªç”¨ï¼‰
NEXT_PUBLIC_NETWORK=testnet

# ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®URLï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºæ™‚ã¯ãã®ã¾ã¾ï¼‰
NEXT_PUBLIC_URL=http://localhost:3000
```

### 3. ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ãƒ‡ãƒ—ãƒ­ã‚¤

è©³ç´°ã¯ [SETUP_GUIDE.md](./docs/SETUP_GUIDE.md) ã‚’å‚ç…§ã€‚

```bash
# slide-puzzle-contractsãƒ•ã‚©ãƒ«ãƒ€ã§Foundryãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
cd ~/projects
mkdir slide-puzzle-contracts && cd slide-puzzle-contracts
forge init
forge install OpenZeppelin/openzeppelin-contracts
echo '@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/' > remappings.txt

# slide-puzzle-miniapp/contracts/SlidePuzzleNFT.solã‚’src/ã«ã‚³ãƒ”ãƒ¼
cp ../slide-puzzle-miniapp/contracts/SlidePuzzleNFT.sol src/

# Base Sepoliaã«ãƒ‡ãƒ—ãƒ­ã‚¤
forge create --rpc-url https://sepolia.base.org \
  --private-key YOUR_PRIVATE_KEY \
  --broadcast \
  src/SlidePuzzleNFT.sol:SlidePuzzleNFT
```

### 4. ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã®æ›´æ–°

`lib/contract.ts` ã® `CONTRACT_ADDRESS` ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã‚¢ãƒ‰ãƒ¬ã‚¹ã«æ›´æ–°:

```typescript
export const CONTRACT_ADDRESS = '0x...your deployed address...' as const;
```

### 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
npm run dev
```

http://localhost:3000 ã§ã‚¢ãƒ—ãƒªã‚’ç¢ºèªã€‚

## æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤

### Vercelã«ãƒ‡ãƒ—ãƒ­ã‚¤

1. GitHubã«ãƒ—ãƒƒã‚·ãƒ¥
2. Vercelã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
3. Root Directory ã‚’ `slide-puzzle-miniapp` ã«è¨­å®šï¼ˆVercelãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§è¨­å®šï¼‰
4. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
5. ãƒ‡ãƒ—ãƒ­ã‚¤

### Farcaster Manifestè¨­å®š

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œ:

1. https://www.base.dev/preview?tab=account ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã‚¢ãƒ—ãƒªURLã‚’å…¥åŠ›ã—ã¦ `accountAssociation` ã‚’ç”Ÿæˆ
3. `app/.well-known/farcaster.json/route.ts` ã«èªè¨¼æƒ…å ±ã‚’è¿½åŠ 

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
slide-puzzle-miniapp/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ .well-known/farcaster.json/  # Farcaster manifest
â”‚   â”œâ”€â”€ globals.css                   # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”œâ”€â”€ layout.tsx                    # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â””â”€â”€ page.tsx                      # ãƒ¡ã‚¤ãƒ³ã‚²ãƒ¼ãƒ ç”»é¢
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ SlidePuzzle.tsx               # ãƒ‘ã‚ºãƒ«UI
â”‚   â”œâ”€â”€ Timer.tsx                     # ã‚¿ã‚¤ãƒãƒ¼
â”‚   â”œâ”€â”€ DifficultySelector.tsx        # é›£æ˜“åº¦é¸æŠ
â”‚   â”œâ”€â”€ Leaderboard.tsx               # ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ MintButton.tsx                # NFTãƒŸãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ShareButton.tsx               # Farcasterå…±æœ‰
â”‚   â””â”€â”€ TutorialModal.tsx             # ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ contract.ts                   # ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆABI/ã‚¢ãƒ‰ãƒ¬ã‚¹
â”‚   â”œâ”€â”€ puzzle.ts                     # ãƒ‘ã‚ºãƒ«ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â””â”€â”€ puzzleImages.ts               # ãƒ‘ã‚ºãƒ«ç”»åƒå®šç¾©ï¼ˆIPFSï¼‰
â”œâ”€â”€ providers/
â”‚   â””â”€â”€ Providers.tsx                 # OnchainKit/Wagmiè¨­å®š
â”œâ”€â”€ contracts/
â”‚   â””â”€â”€ SlidePuzzleNFT.sol            # ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ og-image.png                  # OGPç”»åƒ
â”‚   â”œâ”€â”€ splash.png                    # ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ç”»åƒ
â”‚   â”œâ”€â”€ icon.png                      # ã‚¢ãƒ—ãƒªã‚¢ã‚¤ã‚³ãƒ³
â”‚   â””â”€â”€ puzzle-images/                # ãƒ‘ã‚ºãƒ«ç”»åƒã‚¢ã‚»ãƒƒãƒˆ
â””â”€â”€ docs/
    â”œâ”€â”€ SPECIFICATION.md              # è©³ç´°ä»•æ§˜æ›¸
    â””â”€â”€ SETUP_GUIDE.md                # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
```

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Frontend**: Next.js 14, React 18, TypeScript, Tailwind CSS
- **Web3**:
  - OnchainKit (Transaction/Wallet/Identity ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)
  - Farcaster Frame SDK (@farcaster/frame-sdk, @farcaster/frame-wagmi-connector)
  - Wagmi 2.x (React Hooks for Ethereum)
  - Viem 2.x (TypeScript Ethereum client)
- **Smart Contract**: Solidity 0.8.20, OpenZeppelin
- **Blockchain**: Base (Ethereum L2)
- **Storage**: IPFS (ç”»åƒã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸)
- **Hosting**: Vercel
- **Contract Deployment**: Foundry

## ç¾åœ¨ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹

- **Base Sepolia (testnet)**: `0x83faEe3e88bb11498e11c58FD295CA316407dcb4`

## æœ€è¿‘ã®æ›´æ–°

### v1.2 - IPFSç”»åƒè¡¨ç¤ºä¿®æ­£
- SVGå†…ã®IPFSç”»åƒURLã‚’`ipfs://`ã‹ã‚‰`https://ipfs.io/ipfs/`å½¢å¼ã«å¤‰æ›´
- OpenSeaãªã©ã®NFTãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ã§ã®ç”»åƒè¡¨ç¤ºã‚’æ”¹å–„

### v1.1 - NFTãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ”¹å–„
- Solidityã‚³ãƒ³ãƒ‘ã‚¤ãƒ©è­¦å‘Šã®ä¿®æ­£
- SVGãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚²ãƒ¼ãƒ UIã¨çµ±ä¸€ï¼ˆRubik font-weight 900ï¼‰
- ã‚¿ã‚¤ãƒ è¡¨ç¤ºå½¢å¼ã‚’çµ±ä¸€ï¼ˆå°æ•°ç‚¹ä»¥ä¸‹2æ¡ï¼‰
- å…±æœ‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æ”¹å–„

### v1.0 - ç”»åƒãƒ¢ãƒ¼ãƒ‰è¿½åŠ 
- Image Modeã®å®Ÿè£…
- IPFSç”»åƒçµ±åˆ
- ãƒ¢ãƒ¼ãƒ‰åˆ¥ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰
- ç§»å‹•å›æ•°ã®è¨˜éŒ²ã¨NFTã¸ã®è¿½åŠ 
- ã‚¿ã‚¤ãƒ—æƒ…å ±ï¼ˆNumber/Imageï¼‰ã®è¿½åŠ 

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ä»•æ§˜æ›¸](./docs/SPECIFICATION.md) - æ©Ÿèƒ½ä»•æ§˜ã€æŠ€è¡“ä»•æ§˜ã€å‹•ä½œãƒ•ãƒ­ãƒ¼
- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰](./docs/SETUP_GUIDE.md) - åˆå¿ƒè€…å‘ã‘ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

## ä»Šå¾Œã®å±•é–‹

- [ ] è¿½åŠ ã®ãƒ‘ã‚ºãƒ«ç”»åƒï¼ˆè¤‡æ•°ã®ç”»åƒã‹ã‚‰é¸æŠå¯èƒ½ã«ï¼‰
- [ ] Very Hardï¼ˆ6Ã—6ï¼‰ã€Hellï¼ˆ7Ã—7ï¼‰é›£æ˜“åº¦ã®å®Ÿè£…
- [ ] ã‚«ã‚¹ã‚¿ãƒ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
- [ ] ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼çµ±è¨ˆãƒšãƒ¼ã‚¸

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT
